《服务设计模式——SOAP/WSDL与RESTful Web服务设计解决方案》

# 前言

做了几个月项目之后，突然迷惑了,产生了如下疑问：

- 为什么Spring中Web服务的API这样设计？究竟什么样的算优雅？
- 怎么样接口设计，接口设计如何更加优雅？
- 怎么样能够低耦合高内聚的接口？接口的复用性能更高，减少维护成本呢？

希望通过本书给出答案。

# 时间线

2023-05-19 - 


# 从对象到Web服务

HTTP两种形式：
- 定义标准的服务行为
- 作为传输数据的运输机制


## Web服务优缺点、使用场景：
- Web服务建立的屏障，自然地将客户端与服务端解耦，能够不影响客户端情况下，修改服务实现。
- Web服务调用代价昂贵，序列化和反序列化就需要很多时间
- Web服务调用通常是分布式通信，容易出现客户端、 服务或网络自身发生异常， 但其他部分仍然继续正常运行时， 即局部故障。
如网络不可靠、服务器超负荷等，需要多种策略来检测并且处理这些局部故障。

Web服务大多数支持流式数据传输，最小化内存使用，因为不必缓存数据，适用于传输大型文档和消息。但是多媒体文件传输，使用实时流
传输协议（RTP） 以及实时控制协议（RTCP）都比HTTP更合适。

## 服务和松散耦合

- 功能耦合；在特定场景下，客户端期望生成的效果可能依赖于Web服务的逻辑
- 数据结构的耦合：客户端必须理解服务接收和返回的数据结构、 这些结构中使用的数据类型 ， 以及消息中使用的字符编码（如Unicode)。
- 时间耦合：如果收到请求， 就必须马上处理， 那么就是存在高度的时间耦合。如果客户端必须阻塞并等候响应 ， 那么时间耦合也会很高。
如使用请求/确认机制，或者客户端的异步响应处理器就可以降低时间耦合
- URI耦合： 客户端往往与服务URI高度耦合。这会让服务所有者很难移动或重命名服务URI, 也无法采用新的URI构造模式， 因为这些操作很可能会让客户端崩溃。 


